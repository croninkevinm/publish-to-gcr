name: publish
on:
    push:
        branches: [main, dev]
jobs:
    build-and-publish-latest:
        runs-on: ubuntu-latest
        
        # Running this job only for main branch
    
        steps:
            - uses: actions/checkout@v4 # Checking out the repo

            
            - name: Build and Publish latest
              if: github.ref == 'refs/heads/main'
              run: echo "Main build"
            - name: Build and Publish develop
              if: github.ref == 'refs/heads/dev'
              run: echo "Dev build"
            # - name: Build and Publish latest Docker image
            #   uses: VaultVulp/gp-docker-action@1.1.12
            #   with:
            #       github-token: ${{ secrets.GITHUB_TOKEN }} # Provide GITHUB_TOKEN to login into the GitHub Packages
            #       image-name: my-cool-service # Provide only Docker image name, tag will be automatically set to latest
            #       dockerfile: Dockerfile_server
